<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: Controls</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: Controls</h1>

    <section>

<header>
    

    <h2>Controls</h2>
</header>

<article>
    <h2><a href="https://github.com/nEDM-TUM/nEDM-Interface/blob/master/_default_data/controls.json"><code>_design/controls</code></a></h2><p>This view simple grabs all control documents (e.g. to make a control page) from
a database.  The reason we don't simply use <code>document_type</code> is because it needs
to handle templates as well.  (Template control documents are pushed into every
database.)  For this reason, this view correctly associates the templates with
the control documents that request them.  In addition, it allows ordering the
control documents by specifying an <code>order</code> field in the document.</p>
<h3><code>controls</code></h3><ul>
<li><code>map</code><pre class="prettyprint source lang-javascript"><code>function(doc) {
  if (!doc.type || doc.type !== &quot;control&quot;) return;
  var order = doc._id;
  if (typeof doc.order !== &quot;undefined&quot;) order = doc.order;
  if (doc.template) {
      emit([order,0], { _id : doc.template } );
  }
  emit([order,1], null);
}</code></pre></li>
<li><code>reduce</code>: none </li>
</ul>
<h3>Query examples</h3><p><code>controls</code> is generally only used when building control pages and is called
together with the list function <code>controls</code> in the <code>page</code> design document.  (See
<a href="tutorial-couchdb_list.html">documentation for list functions</a>.)  It is therefore
called directly in the HTTP API, e.g.:</p>
<pre class="prettyprint source lang-bash"><code>/page/_list/controls/controls/controls</code></pre>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_math.html">lib/math</a></li><li><a href="module-lib_monitoring_graph.html">lib/monitoring_graph</a></li><li><a href="module-lib_nedm.html">lib/nedm</a></li><li><a href="module-lib_update_db.html">lib/update_db</a></li></ul><h3>Externals</h3><ul><li><a href="external-DB.html">DB</a></li><li><a href="module-db.html">db</a></li><li><a href="module-dygraph-combined.html">dygraph-combined</a></li><li><a href="module-events.html">events</a></li><li><a href="module-jquery-mobile.html">jquery-mobile</a></li><li><a href="module-jquery-mobile-datebox.html">jquery-mobile-datebox</a></li><li><a href="module-js-cookie.html">js-cookie</a></li><li><a href="module-session.html">session</a></li><li><a href="module-toastr.html">toastr</a></li></ul><h3>Classes</h3><ul><li><a href="Dygraph.html">Dygraph</a></li><li><a href="module-lib_monitoring_graph.MonitoringGraph.html">MonitoringGraph</a></li><li><a href="module-lib_nedm-nEDMDatabase.html">nEDMDatabase</a></li><li><a href="nEDMDB.html">nEDMDB</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-build_site.html">Building site components</a></li><li><a href="tutorial-couchdb.html">CouchDB basics for nEDM</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Fri Nov 06 2015 13:43:09 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>